<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Shop Menu</title>
</head>
<body>
    <h1>Coffee Shop Menu</h1>
    <table>
        <tr>
            <th>Item</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Add to Cart</th>
        </tr>
        {% for item_key, item_data in menu.items() %}
            <form action="{{ url_for('add_to_cart') }}" method="post">
                <tr>
                    <td>{{ item_data['name'] }}</td>
                    <td>${{ item_data['price'] }}</td>
                    <td>{{ item_data['quantity'] }}</td>
                    <td>
                        <input type="hidden" name="item_name" value="{{ item_key }}">
                        <input type="hidden" name="item_price" value="{{ item_data['price'] }}">
                        <input type="number" name="quantity" min="1" value="1">
                        <input type="submit" value="Add to Cart">
                    </td>
                </tr>
            </form>
        {% endfor %}
    </table>

    <h2>Shopping Cart</h2>
    <table>
        <tr>
            <th>Item</th>
            <th>Price</th>
            <th>Quantity</th>
        </tr>
        {% for item_key, item_data in cart.items() %}
            <tr>
                <td>{{ item_data['name'] }}</td>
                <td>${{ item_data['price'] }}</td>
                <td>{{ item_data['quantity'] }}</td>
            </tr>
        {% endfor %}
        <tr>
            <td colspan="2">Total Price:</td>
            <td>${{ total_price }}</td>
        </tr>
    </table>

    <form action="{{ url_for('clear_cart') }}" method="post">
        <input type="submit" value="Clear Cart">
    </form>
</body>
</html>
